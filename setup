#!/bin/bash

export DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
export VUNDLE_REPO='https://github.com/VundleVim/Vundle.vim.git'
export VUNDLE_PATH="${DIR}/.vim/bundle/Vundle.vim"

cd "${HOME}"

test -d .vim -a ! -L .vim && rm -rfi .vim
ln -fs "${DIR}/.vim"
ln -fs "${DIR}/.vimrc"

test ! -e ${VUNDLE_PATH} && git clone "${VUNDLE_REPO}" "${VUNDLE_PATH}"
vim +PluginInstall +qall

if [ "$(uname)" == 'Darwin' ]; then
    "${DIR}/setup-mac"
fi
